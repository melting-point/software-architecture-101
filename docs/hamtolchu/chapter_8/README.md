# Chapter 8. 컴포넌트 기반 사고

3장에서는 '모듈'을 연관된 코드의 묶음 이라고 정의했다.
아키텍트는 보통 모듈을 '물리적으로 구현한 컴포넌트'로 생각한다.

해당 장에서는 범위부터 검색에 이르기까지 컴포넌트에 관한 아키텍처 고려 사항을 알아본다.

# 컴포넌트 범위
개발자의 관점에서 컴포넌트 개념을 다양한 요소에 세분화하는 것이 유용하다고 생각한다.

가장 단순한 컴포넌트는 클래스보다 한 단계 높은 수준의 모듈로 코드를 래핑한 것이다.
단순한 래퍼를 보통 '라이브러리' 라고 한다.
라이브러리는 대게 호출부 코드와 동일한 메모리 주소에서 실행되며 해당 언어의 함수 호출 메커니즘을 이용해 통신한다.

컴포넌트는 아키텍처에서 서브시스템이나 레이어 형태로도 나타난다.
많은 이벤트 프로세서를 위한 배포 가능한 작업 단위이다.

서비스는 또 다른 종류의 컴포넌트로서 자신의 주소 공간에서 실행된다.
고수준 포맷(REST, 메세지 큐 등)을 통해 통신한다.

-> 적은 양의 코드만 담도록 단순하게 설계하는 것이 좋다.
-> 최상위 분할

# 아키텍트 역할
아키텍트는 아키텍처 내부의 컴포넌트를 정의, 개선, 관리, 통제하는 일을 한다.
-> 아키텍트는 클래스 설계에 참여해서도 안되고 시스템의 세세한 설계 결정에 관여해서도 안된다.
-> 다른 부서 사람들이 중요한 결정을 내리지 못하게 아키텍트가 허용하지 않으면 조직은 다음 세데 아키텍트들에게 자율권을 부여하기가 곤란해질 것

# 아키텍처 분할

모듈러 모놀리스
기술적인 능력이 아닌, 도메인에 따라 분할된 단일 배포 단위이다.

기술적 최상위 분할은 레이어드 아키텍처와 같이 *기술적인 능력*에 따라 아키텍처를 구성하는 것.
기술적인 능력 = 기능

콘웨이의 법칙
시스템을 설계하는 조직은... 그 조직의 소통 구조를 그대로 옮겨 놓은 듯한 설계도를 그릴 수밖에 없다.
사람들이 어떤 기술 아티펙트를 설계할 때에는 결국 그들 간의 소통 구조가 설계 결과에 반영될 수밖에 없다는 뜻.
-> ? 역콘웨이 법칙

서로 독립적으로 분리된 도메인 또는 워크플로를 식별하는데, 이는 마이크로서비스 아키텍처 스타일의 근본 사상이기도 하다.

서로 다른 아키텍처 패턴 간의 근본적인 차이점 중의 하나가 바로 각각의 개별 패턴을 다루는 최상위 분할의 유형이다.
-> ???

최상위 기술분할을 어떻게 할 것인지는 아키텍트가 가장 먼저 결정해야 할 문제 중 하나이다.

-> 한번에 완성된 설계를 만들 수는 없다. 계속 반복해서 세분도를 짚어내고 재설계하고...


---

근본적인 결정은 설계 프로세스 중에 식별된 아키텍처 퀀텀 수에 좌우된다.







