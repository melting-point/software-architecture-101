# 3장 모듈성

**모듈성은 일종의 구성 원리**

## 정의

- 클래스, 함수처럼 코드를 묶어 놓은 덩어리를 모듈성이라는 일반 용어로 나타냄

## 모듈성 측정

### 응집

- 한 모듈의 파트가 동일한 모듈 안에 얼마나 포함되어 있는지를 나타냄
- 좋은 응집부터 나쁜 응집
    - 기능정 응집 - 기능상 꼭 필요한 모든 것이 모듈에 있음
    - 순차적 응집 - 두 모듈이, 상호작용하는 것
    - 소통적 응집 - 두 모듈이, 통신 체인을 형성
    - 절차적 응집 - 정해진 순서대로 실행
    - 일시적 응집 - 시점 의존성에 따라 연관되는데, 관련 없어 보이는 것들이 초기화 되거나 할 때, 일시적으로 응집 됐다고 함
    - 동시적 응집 - 같은 소스 파일에 모듈 구성 요소가 들어 있지 그 외에는 아무 연관성이 없음
- LCOM
    - 메서드의 응집 결여도
    - 공유 필드를 통해 공유되지 않는 메서드의 총 개수

### 커플링

- 구심 커플링, 원심 커플링등을 측정해야함

### 추상도, 불안정도, 메인 시퀀스로부터의 거리

- 추상도 - 추상 아티팩트와 구상 아티팩트의 비율, 구현 대비 추상화 정도
- 불안정도 - 코드베이스의 변동성을 의미
- 메인 시퀀스로부터의 거리 - 불안정도와 추상도를 이용하여 계산

### 커네이선스

- 정적 커네이선스 - 소스 코드 레벨의 커플링
    - 명칭 커네이선스 - 여러 컴포넌트의 엔티티명이 일치해야 함
    - 타입 커네이선스 - 여러 컴포넌트의 엔티티 타입이 일치해야 함
    - 의미 커네이선스 또는 관례 커네이선스 - 여러 컴포넌트의 어떤 값의 의미가 일치해야함
    - 위치 커네이선스 - 여러 컴포넌트는 값의 순서가 일치해야함
    - 알고리즘 커네선스 - 여러 컴포넌트는 특정 알고리즘이 일치해야함
- 동적 커네이선스 - 런타일 호출을 분석
    - 실행 커네이선스 - 여러 컴포넌트의 실행 순서가 중요
    - 시점 커네이선스 - 여러 컴포넌트의 실행 시점이 중요
    - 값 커네이선스 - 상호 연관된 다수의 값들을 함께 변경할 때 발생
    - 식별 커네이선스 - 여러 컴포넌트가 동일한 엔티티를 참조할 때 발생
- 커네이선스 속성
    - 강도 - 어떤 유형의 커네이선스를 얼마나 쉽게 리팩터링할 수 있는지에 따라 커네이선스 강도를 결정
    
    ![refactoring](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/86990fe7-faf5-4501-a29e-772c1258ea4e/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20221215%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20221215T001322Z&X-Amz-Expires=86400&X-Amz-Signature=015d25c96619352b68c09562cb6586593a134334c33b9a3b1eee1e59b2ee4586&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%22Untitled.png%22&x-id=GetObject)
    
    - 지역성
        - 코드베이스의 모듈들이 얼마나 가까이 있는가
        - 모듈을 서로 떨어뜨렸을 때 커플링이 형펀없는 형태의 커네이선스는 모듈을 서로 가까이 붙여 놓는 식으로 개선
    - 정도
        - 커네이선스가 미치는 영향의 규모
        - 개선 방법
            - 캡슐화한 요소들로 전체 커네이선스를 최소화
            - 캡슐화 경계를 벗어나는 나머지 커네이선스를 모조리 최소화
            - 캡슐화 경계 내부에서 커네이선스를 최대화
        - 정도의 규칙
        - 지역성의 규칙

### 커플링과 커네이선스 메트릭을 통합

- 이 두 가지 뷰가 서로 중첩

## 논의하면 좋을 것

- 우리 코드의 커플링과 커네이선스 계산..?